#include <stdio.h>

float data[384] = {
	0,0,0,0,0,0,
	0,0,0,0,0,1,
	0,0,0,0,1,0,
	0,0,0,0,1,1,
	0,0,0,1,0,0,
	0,0,0,1,0,1,
	0,0,0,1,1,0,
	0,0,0,1,1,1,
	0,0,1,0,0,0,
	0,0,1,0,0,1,
	0,0,1,0,1,0,
	0,0,1,0,1,1,
	0,0,1,1,0,0,
	0,0,1,1,0,1,
	0,0,1,1,1,0,
	0,0,1,1,1,1,
	0,1,0,0,0,0,
	0,1,0,0,0,1,
	0,1,0,0,1,0,
	0,1,0,0,1,1,
	0,1,0,1,0,0,
	0,1,0,1,0,1,
	0,1,0,1,1,0,
	0,1,0,1,1,1,
	0,1,1,0,0,0,
	0,1,1,0,0,1,
	0,1,1,0,1,0,
	0,1,1,0,1,1,
	0,1,1,1,0,0,
	0,1,1,1,0,1,
	0,1,1,1,1,0,
	0,1,1,1,1,1,
	1,0,0,0,0,0,
	1,0,0,0,0,1,
	1,0,0,0,1,0,
	1,0,0,0,1,1,
	1,0,0,1,0,0,
	1,0,0,1,0,1,
	1,0,0,1,1,0,
	1,0,0,1,1,1,
	1,0,1,0,0,0,
	1,0,1,0,0,1,
	1,0,1,0,1,0,
	1,0,1,0,1,1,
	1,0,1,1,0,0,
	1,0,1,1,0,1,
	1,0,1,1,1,0,
	1,0,1,1,1,1,
	1,1,0,0,0,0,
	1,1,0,0,0,1,
	1,1,0,0,1,0,
	1,1,0,0,1,1,
	1,1,0,1,0,0,
	1,1,0,1,0,1,
	1,1,0,1,1,0,
	1,1,0,1,1,1,
	1,1,1,0,0,0,
	1,1,1,0,0,1,
	1,1,1,0,1,0,
	1,1,1,0,1,1,
	1,1,1,1,0,0,
	1,1,1,1,0,1,
	1,1,1,1,1,0,
	1,1,1,1,1,1
};

float output[64] = {
	0,0,0,0,0,0,0,1,0,0,0,1,0,1,1,0,0,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,0,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,0,1,1,0,1,0,0,0,1,0,0,0,0,0,0,0
};

int main(int argc, char **argv) {
	FILE* miniBatch;
	float mb = 64.0;
	int i = 0;

	printf("Splitting training data into minibatches...\n");
	miniBatch = fopen("./data/0", "wb");
	fwrite(&mb, sizeof mb, 1, miniBatch);
	for (i = 0; i < 384; i++) {
		if (i % 7 == 0) printf("Working...\n");
		fwrite(&data[i], sizeof mb, 1, miniBatch);
	}
	for (int i = 0; i < 64; i++) {
		fwrite(&output[i], sizeof mb, 1, miniBatch);
	}
	fclose(miniBatch);

	printf("Splitting validation data into minibatches...\n");
	miniBatch = fopen("./test/0", "wb");
	fwrite(&mb, sizeof mb, 1, miniBatch);
	for (i = 0; i < 384; i++) {
		if (i % 7 == 0) printf("Working...\n");
		fwrite(&data[i], sizeof mb, 1, miniBatch);
	}
	for (int i = 0; i < 64; i++) {
		fwrite(&output[i], sizeof mb, 1, miniBatch);
	}
	fclose(miniBatch);
}
